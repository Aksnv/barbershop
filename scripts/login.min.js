"use strict";var overlay=document.querySelector(".overlay"),popupLogin=document.querySelector(".popup_login"),buttonOpenPopupLogin=document.querySelector(".user-navigation__link_login"),buttonClosePopupLogin=popupLogin.querySelector(".popup__close-button"),formLogin=popupLogin.querySelector(".login-form"),fieldLogin=popupLogin.querySelector(".login-form__field_login"),fieldPassword=popupLogin.querySelector(".login-form__field_password"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(i){isStorageSupport=!1}buttonOpenPopupLogin.addEventListener("click",function(i){i.preventDefault(),overlay.classList.add("overlay_visible"),popupLogin.classList.add("popup_visible"),storage?(fieldLogin.value=storage,fieldLogin.classList.remove("login-form__field_invalid"),fieldPassword.focus()):fieldLogin.focus()}),buttonClosePopupLogin.addEventListener("click",function(i){i.preventDefault(),overlay.classList.remove("overlay_visible"),popupLogin.classList.remove("popup_visible"),popupLogin.classList.remove("popup_invalid"),fieldLogin.classList.remove("login-form__field_invalid"),fieldPassword.classList.remove("login-form__field_invalid")}),window.addEventListener("keydown",function(i){27===i.keyCode&&popupLogin.classList.contains("popup_visible")&&(i.preventDefault(),overlay.classList.remove("overlay_visible"),popupLogin.classList.remove("popup_visible"),popupLogin.classList.remove("popup_invalid"),fieldLogin.classList.remove("login-form__field_invalid"),fieldPassword.classList.remove("login-form__field_invalid"))}),formLogin.addEventListener("submit",function(i){fieldLogin.value||(i.preventDefault(),popupLogin.classList.remove("popup_invalid"),popupLogin.offsetWidth,fieldLogin.classList.add("login-form__field_invalid"),popupLogin.classList.add("popup_invalid")),fieldPassword.value||(i.preventDefault(),popupLogin.classList.remove("popup_invalid"),popupLogin.offsetWidth,fieldPassword.classList.add("login-form__field_invalid"),popupLogin.classList.add("popup_invalid")),isStorageSupport&&localStorage.setItem("login",fieldLogin.value)}),fieldLogin.addEventListener("blur",function(){fieldLogin.value?fieldLogin.classList.remove("login-form__field_invalid"):(fieldLogin.classList.add("login-form__field_invalid"),fieldPassword.value||fieldPassword.classList.add("login-form__field_invalid"))}),fieldPassword.addEventListener("blur",function(){fieldPassword.value?fieldPassword.classList.remove("login-form__field_invalid"):fieldPassword.classList.add("login-form__field_invalid")});
